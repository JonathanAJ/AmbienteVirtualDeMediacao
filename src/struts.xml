<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
  <constant name="struts.devMode" value="true" />
  <constant name="struts.ui.theme" value="simple" />
  <constant name="struts.action.excludePattern" value="/webs/*" />
  
  <!-- Actions de Login -->
  <package name="login" extends="struts-default">
  	
    <action name="logarLoginAction" class="com.mediacaovirtual.controller.LoginAction" method="logar">
    	<result name="sucesso" type="redirect">/pages/index.jsp</result>
    	<result name="erro">/login.jsp</result>
    </action>
    
    <action name="cadastrarLoginAction" class="com.mediacaovirtual.controller.LoginAction" method="cadastrar">
    	<result name="sucesso">/login.jsp?sucesso=cadastro</result>
    	<result name="erro_nucleo">/login.jsp?erro=nucleo</result>
    	<result name="erro_nome">/login.jsp?erro=nome</result>
    	<result name="erro_cpf">/login.jsp?erro=cpf</result>
    	<result name="erro_senha">/login.jsp?erro=senha</result>
    	<result name="erro">/login.jsp?erro=padrao</result>
    </action>
    
    <action name="logoutLoginAction" class="com.mediacaovirtual.controller.LoginAction" method="logout">
    	<result name="sucesso">/login.jsp</result>
    </action>
  </package>
  
  <!-- Actions de Postagens -->
  <package name="postagens" extends="struts-default" namespace="/pages">
    
    <action name="cadastrarPostAction" class="com.mediacaovirtual.controller.PostAction" method="cadastrar">
    	<result name="sucesso" type="redirect">/pages/index.jsp?sucesso=post</result>
    	<result name="erro">/pages/post.jsp?erro=padrao</result>
    	<result name="erro_categoria">/pages/post.jsp?erro=categoria</result>
    	<result name="erro_texto">/pages/post.jsp?erro=texto</result>
    </action>
    
    <action name="comentarPostAction" class="com.mediacaovirtual.controller.PostAction" method="comentar">
    	<result name="sucesso" type="redirect">/pages/postagem.jsp?id=${post.id}&amp;sucesso=comentario</result>
    	<result name="erro" type="redirect">/pages/postagem.jsp?id=${post.id}&amp;erro=padrao</result>
    	<result name="erro_comentario" type="redirect">/pages/postagem.jsp?id=${post.id}&amp;erro=comentario#comentario</result>
    </action>
    
    <action name="buscarPostAction" class="com.mediacaovirtual.controller.PostAction" method="buscar">
    	<result name="sucesso" type="redirect">/pages/index.jsp?sucesso=busca</result>
    	<result name="erro" type="redirect">/pages/index.jsp?erro=padrao</result>
    </action>
  </package>
  
</struts>